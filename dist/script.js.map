{"version":3,"file":"script.js","mappings":"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","sources":["webpack://library/webpack/bootstrap","webpack://library/webpack/runtime/make namespace object","webpack://library/./src/assets/js/main.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\r\n\r\n\r\n\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n    (async function () {\r\n        const resp = await fetch('./towns.json');\r\n        const respJSON = await resp.json();\r\n\r\n        const listSearchWrapper = document.querySelector('.list-search-wrapper');\r\n        const listSearch = document.querySelector('.list-search');\r\n        const search = document.querySelector('#search');\r\n        const mapTrigger = document.querySelector('.static-map');\r\n        const overlay = document.querySelector('.overlay');\r\n        const closeMap = document.querySelector('.overlay__close');\r\n\r\n        //Сортировка маасива объектов по первой букве\r\n        respJSON.features.sort((a, b) => (a.name[0].toLowerCase() > b.name[0].toLowerCase() ? 1 : -1)).forEach(item => {\r\n            listSearch.innerHTML += `\r\n            <li>\r\n                ${item.properties.hintContent}\r\n            </li>\r\n        `;\r\n        })\r\n        //открытие и закрытие списка под инпутом\r\n        function openCloseListTowns() {\r\n            search.addEventListener('focus', () => {\r\n                listSearchWrapper.style.display = 'block';\r\n            })\r\n\r\n            window.addEventListener('click', (e) => {\r\n                if (!e.target.classList.contains('list-search') && e.target.id !== 'search' && e.target.tagName !== 'LI') {\r\n                    listSearchWrapper.style.display = 'none';\r\n                }\r\n                if (e.target.classList.contains('overlay_active') || e.target.tagName === 'A') {\r\n                    overlay.classList.remove('overlay_active');\r\n                }\r\n            })\r\n        }\r\n\r\n        openCloseListTowns()\r\n\r\n\r\n        //фильтрация элементов при вводе в инпут\r\n        search.addEventListener('input', (e) => {\r\n            listSearch.innerHTML = '';\r\n\r\n\r\n            if (e.target.value === '') {\r\n                respJSON.features.forEach(item => {\r\n                    listSearch.innerHTML += `\r\n                    <li class=\"test\">${item.properties.hintContent}</li>\r\n                `;\r\n                })\r\n            }\r\n\r\n            respJSON.features.filter(item => {\r\n                for (let i = 0; i < e.target.value.length; i++) {\r\n                    if (item.name.toLowerCase().includes(e.target.value.toLowerCase()) && item.name.indexOf(e.target.value.toLowerCase()) <= e.target.value.length) {\r\n                        return item\r\n                    } else {\r\n                        return null\r\n                    }\r\n                }\r\n            }).forEach(elemLi => {\r\n                listSearch.innerHTML += `\r\n                    <li class=\"test\">${elemLi.properties.hintContent}</li>\r\n                `;\r\n            })\r\n\r\n        })\r\n\r\n\r\n        //создание yandex карты и открытие, закрытие popup'a с картой\r\n\r\n        mapTrigger.addEventListener('click', () => {\r\n            overlay.classList.add('overlay_active');\r\n            // function init() {\r\n            //     let map = new ymaps.Map('map', {\r\n            //         center: [55.6233267145899, 38.86243310321032],\r\n            //         zoom: 10,\r\n            //     }),\r\n            //         objectManager = new ymaps.ObjectManager();\r\n\r\n            //     objectManager.objects.options.set('preset', 'islands#blueDotIcon');\r\n            //     objectManager.add(respJSON.features);\r\n            //     map.geoObjects.add(objectManager);\r\n\r\n            //     map.controls.remove('geolocationControl');\r\n            //     map.controls.remove(['searchControl']);\r\n            //     map.controls.remove('trafficControl');\r\n            //     map.controls.remove('typeSelector');\r\n            //     map.controls.remove('fullscreenControl');\r\n            //     map.controls.remove('zoomControl');\r\n            //     map.controls.remove('rulerControl');\r\n            //     map.controls.remove(['scrollZoom']);\r\n\r\n            // }\r\n            // ymaps.ready(init);\r\n        })\r\n\r\n        closeMap.addEventListener('click', () => {\r\n            overlay.classList.remove('overlay_active');\r\n        })\r\n\r\n\r\n\r\n\r\n\r\n    })()\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["window","addEventListener","resp","fetch","respJSON","json","listSearchWrapper","document","querySelector","listSearch","search","mapTrigger","overlay","closeMap","features","sort","a","b","name","toLowerCase","forEach","item","innerHTML","properties","hintContent","openCloseListTowns","style","display","e","target","classList","contains","id","tagName","remove","value","filter","i","length","includes","indexOf","elemLi","add"],"sourceRoot":""}