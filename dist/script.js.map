{"version":3,"file":"script.js","mappings":"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","sources":["webpack://library/webpack/bootstrap","webpack://library/webpack/runtime/make namespace object","webpack://library/./src/assets/js/main.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\r\n\r\n\r\n\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n    (async function(){\r\n        const resp = await fetch('./towns.json');\r\n        const respJSON = await resp.json();\r\n\r\n        const listSearchWrapper = document.querySelector('.list-search-wrapper');\r\n        const listSearch = document.querySelector('.list-search');\r\n        const search = document.querySelector('#search');\r\n\r\n        //Сортировка маасива объектов по первой букве\r\n        respJSON.features.sort((a, b) => (a.name[0].toLowerCase() > b.name[0].toLowerCase() ? 1: -1)).forEach(item => {\r\n            listSearch.innerHTML += `\r\n            <li>\r\n                ${item.properties.hintContent}\r\n            </li>\r\n        `;\r\n        })\r\n        //открытие и закрытие списка под инпутом\r\n        function openCloseListTowns() {\r\n            search.addEventListener('focus', () => {\r\n                listSearchWrapper.style.display = 'block';\r\n            })\r\n    \r\n            window.addEventListener('click', (e) => {\r\n                console.log(e.target)\r\n                if(!e.target.classList.contains('list-search') && e.target.id !== 'search' && e.target.tagName !== 'LI') {\r\n                    listSearchWrapper.style.display = 'none';\r\n                }\r\n            })\r\n        }\r\n\r\n        openCloseListTowns()\r\n\r\n\r\n        //фильтрация элементов при вводе в инпут\r\n        search.addEventListener('input', (e) => {\r\n            listSearch.innerHTML = '';\r\n\r\n\r\n            if(e.target.value === '') {\r\n                respJSON.features.forEach(item => {\r\n                    listSearch.innerHTML += `\r\n                    <li class=\"test\">${item.properties.hintContent}</li>\r\n                `;\r\n                })\r\n            }\r\n            \r\n            respJSON.features.filter(item => {\r\n                for(let i = 0; i < e.target.value.length; i++) {\r\n                    if(item.name.toLowerCase().includes(e.target.value) && item.name.indexOf(e.target.value) <= e.target.value.length) {\r\n                        return item\r\n                    }else {\r\n                        return null\r\n                    }\r\n                }\r\n            }).forEach(elemLi => {\r\n                listSearch.innerHTML += `\r\n                    <li class=\"test\">${elemLi.properties.hintContent}</li>\r\n                `;\r\n            })\r\n            \r\n        })\r\n\r\n        //создание yandex карты\r\n\r\n        async function init() {\r\n            let map = new ymaps.Map('map', {\r\n                center: [55.6233267145899,38.86243310321032],\r\n                zoom: 10,\r\n                // controls: ['searchControl']\r\n            }),\r\n            objectManager = new ymaps.ObjectManager({\r\n                clusterize: true,\r\n                gridSize: 32,\r\n                clusterDisableClickZoom: true\r\n            });\r\n        \r\n            objectManager.objects.options.set('preset', 'islands#blueDotIcon');\r\n            map.geoObjects.add(objectManager);\r\n            objectManager.add(respJSON.features);\r\n\r\n            map.controls.remove('geolocationControl');\r\n            map.controls.remove(['searchControl']);\r\n            map.controls.remove('trafficControl');\r\n            map.controls.remove('typeSelector');\r\n            map.controls.remove('fullscreenControl');\r\n            map.controls.remove('zoomControl');\r\n            map.controls.remove('rulerControl');\r\n            map.controls.remove(['scrollZoom']);\r\n            \r\n        }\r\n        \r\n        ymaps.ready(init);\r\n    \r\n    })()\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["window","addEventListener","resp","fetch","respJSON","json","listSearchWrapper","document","querySelector","listSearch","search","features","sort","a","b","name","toLowerCase","forEach","item","innerHTML","properties","hintContent","openCloseListTowns","style","display","e","console","log","target","classList","contains","id","tagName","value","filter","i","length","includes","indexOf","elemLi","init","map","ymaps","Map","center","zoom","objectManager","ObjectManager","clusterize","gridSize","clusterDisableClickZoom","objects","options","set","geoObjects","add","controls","remove","ready"],"sourceRoot":""}